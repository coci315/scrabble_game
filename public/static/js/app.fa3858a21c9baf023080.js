webpackJsonp([1],{146:function(t,e){},147:function(t,e){},148:function(t,e){},154:function(t,e,n){function s(t){n(146)}var a=n(37)(n(89),n(156),s,null,null);t.exports=a.exports},155:function(t,e,n){function s(t){n(148)}var a=n(37)(n(90),n(158),s,null,null);t.exports=a.exports},156:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scrabble",on:{click:function(e){t.isShowMenu=!1}}},[n("div",{staticClass:"title"},[t._v("Scrabble")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowCountDown,expression:"isShowCountDown"}],staticClass:"countdown"},[n("div",{staticClass:"number number3"},[t._v("3")]),t._v(" "),n("div",{staticClass:"number number2"},[t._v("2")]),t._v(" "),n("div",{staticClass:"number number1"},[t._v("1")])]),t._v(" "),n("div",{staticClass:"info"},[n("span",{staticClass:"score"},[t._v("Best Score: "+t._s(t.bestScore))]),t._v(" "),n("span",{staticClass:"score"},[t._v("Total Score: "+t._s(t.score))]),t._v(" "),n("span",{staticClass:"round"},[t._v("Remaining Rounds: "+t._s(t.round))])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.word,expression:"word"}],staticClass:"word-display",attrs:{type:"text",disabled:""},domProps:{value:t.word},on:{input:function(e){e.target.composing||(t.word=e.target.value)}}}),t._v(" "),t.isPlaying?t._e():n("div",{staticClass:"game-title"},[t._v("Scrabble Game")]),t._v(" "),n("transition",{attrs:{name:"slide"}},[t.cards.length>0?n("transition-group",{staticClass:"card-wrap",attrs:{tag:"ul",name:"list"}},t._l(t.cards,function(e,s){return e.letter?n("li",{key:s,ref:"li"+s,refInFor:!0,class:{select:e.isSelected},on:{click:function(e){e.stopPropagation(),t.toggleSelect(s)},mouseenter:function(e){t.slideUp(s)},mouseleave:function(e){t.slideDown(s)}}},[t._v(t._s(e.letter))]):t._e()})):t._e()],1),t._v(" "),n("div",{staticClass:"btn-group"},[n("button",{directives:[{name:"show",rawName:"v-show",value:!t.isPlaying,expression:"!isPlaying"}],attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.play(e)}}},[t._v("Play")]),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying&&!t.isAuto,expression:"isPlaying&&!isAuto"}],attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.nextRound(e)}}},[t._v("NextRound")]),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying&&!t.isAuto,expression:"isPlaying&&!isAuto"}],attrs:{type:"button",disabled:t.selectedIndex.length<2},on:{click:function(e){e.stopPropagation(),t.submit(e)}}},[t._v("Submit")]),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:!t.isAuto,expression:"!isAuto"}],attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.autoPlay(e)}}},[t._v("AutoPlay")]),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:t.isAuto,expression:"isAuto"}],attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.cancelAutoPlay(e)}}},[t._v("Cancel AutoPlay")])]),t._v(" "),n("div",{staticClass:"menu-icon",class:{active:t.isShowMenu},on:{click:function(e){e.stopPropagation(),t.toggleMenu(e)}}}),t._v(" "),n("div",{staticClass:"menu",class:{active:t.isShowMenu}},[n("div",{staticClass:"btn-wrap"},[n("button",{attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.restart(e)}}},[t._v("ReStart")])]),t._v(" "),n("div",{staticClass:"btn-wrap"},[n("button",{attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.hint(e)}}},[t._v("Hint")])]),t._v(" "),n("div",{staticClass:"btn-wrap"},[n("button",{attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.showHighScores(e)}}},[t._v("HighScores")])]),t._v(" "),n("div",{staticClass:"btn-wrap"},[n("button",{attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.showHelp(e)}}},[t._v("Help")])]),t._v(" "),n("div",{staticClass:"btn-wrap"},[n("button",{attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.showAbout(e)}}},[t._v("About")])]),t._v(" "),n("div",{staticClass:"btn-wrap"},[n("button",{attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.quit(e)}}},[t._v("Quit")])])])],1)},staticRenderFns:[]}},157:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},158:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"toast",class:t.position},[n("i",[t._v(t._s(t.message))])])])},staticRenderFns:[]}},61:function(t,e,n){"use strict";var s=n(3),a=s.default.extend(n(155)),o=function(t){t.target.parentNode.removeChild(t.target)};a.prototype.close=function(){this.visible=!1,this.$el.addEventListener("transitionend",o)};var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(new a).$mount(document.createElement("div")),n=t.duration||1500;return e.message="string"==typeof t?t:t.message,e.position=t.position||"top",document.body.appendChild(e.$el),e.visible=!0,s.default.nextTick(function(){e.timer=setTimeout(function(){e.close()},n)}),e};e.a=r},62:function(t,e,n){"use strict";var s=n(3),a=n(159),o=n(154),r=n.n(o);s.default.use(a.a),e.a=new a.a({routes:[{path:"/",name:"Scrabble",component:r.a}]})},64:function(t,e){},65:function(t,e){},66:function(t,e,n){function s(t){n(147)}var a=n(37)(n(88),n(157),s,null,null);t.exports=a.exports},84:function(t,e,n){"use strict";function s(t,e){var n=0;if(""===t)return 0;for(var s in t)n+=c[t[s]];return n*=t.length,t.length===e&&(n+=50),n}function a(t){for(var e=[],n=Math.floor(t/3),s=0;s<n;s++){var a=r[Math.floor(Math.random()*r.length)];e.push(a)}for(var o=0;o<t-n;o++){var c=i[Math.floor(Math.random()*i.length)];e.push(c)}return e}function o(t,e){var n=[];for(var s in t){for(var a=e.indexOf(t[s]);-1!==n.indexOf(a);)a=e.indexOf(t[s],a+1);n.push(a)}return n}e.b=s,e.c=a,e.a=o;var r="aeiou",i="bcdfghjklmnpqrstvwxyz",c={a:1,b:3,c:3,d:2,e:1,f:4,g:2,h:4,i:1,j:8,k:5,l:1,m:3,n:1,o:1,p:3,q:10,r:1,s:1,t:1,u:1,v:4,w:4,x:8,y:4,z:10}},85:function(t,e,n){"use strict";function s(t,e){var n=window.localStorage.__scrabble__;n=n?JSON.parse(n):{},n[t]=e,window.localStorage.__scrabble__=r()(n)}function a(t,e){var n=window.localStorage.__scrabble__;if(!n)return e;n=JSON.parse(n);var s=n[t];return void 0===s?e:s}e.b=s,e.a=a;var o=n(91),r=n.n(o)},86:function(t,e,n){"use strict";function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new r.a(function(e,n){setTimeout(function(){e()},t)})}function a(t){return t<10?"0"+t:""+t}e.b=s,e.a=a;var o=n(23),r=n.n(o)},87:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(65),a=(n.n(s),n(64)),o=(n.n(a),n(63)),r=n.n(o),i=n(3),c=n(66),u=n.n(c),l=n(62),f=n(60),d=n.n(f),p=n(61);i.default.prototype.$http=d.a,i.default.prototype.$toast=p.a,i.default.prototype.$msgbox=r.a,i.default.prototype.$alert=r.a.alert,i.default.prototype.$confirm=r.a.confirm,i.default.prototype.$prompt=r.a.prompt,i.default.config.productionTip=!1,new i.default({el:"#app",router:l.a,template:"<App/>",components:{App:u.a}})},88:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},89:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(23),a=n.n(s),o=n(95),r=n.n(o),i=n(96),c=n.n(i),u=n(94),l=n.n(u),f=n(84),d=n(86),p=n(85);e.default={data:function(){return{hand:[],cards:[],selectedIndex:[],score:0,bestScore:n.i(p.a)("bestScore",0),isFirstPlay:n.i(p.a)("isFirst",!0),isShowCountDown:!1,round:10,isAuto:!1,isPlaying:!1,isShowMenu:!1}},computed:{word:function(){var t=this,e="";return this.selectedIndex.forEach(function(n){e+=t.cards[n].letter}),e}},watch:{hand:function(t){var e=[];t.forEach(function(t){e.push({letter:t,isSelected:!1})}),this.cards=e},selectedIndex:function(t,e){var n=this;0===t.length&&e.length>0&&e.forEach(function(t){n.$refs["li"+t][0].style.transform="translate3d(0,0,0)"}),t.length>0&&t.forEach(function(t){n.cards[t].isSelected=!0,n.$refs["li"+t][0].style.transform="translate3d(0,-20%,0)"})}},methods:{showHelp:function(){var t=this.$createElement;this.$msgbox({title:"帮助",message:t("div",null,[t("p",null,"1. 每局有10个回合"),t("p",null,"2. 从给定的字母中组成有效的单词提交"),t("p",null,"3. 计分规则为单词中每个字母的分数相加后，乘以单词的长度"),t("p",null,"4. 如提交的单词用上了所有给出的字母，则额外获得50分"),t("p",null,"5. 不同的字母根据出现的频率不同得分不一"),t("p",null,'6. "aeinlorstu"计1分,"dg"计2分，"bcmp"计3分,"fhvwy"计4分，"k"计5分，"jx"计8分，"qz"计10分')]),customClass:"my-msgbox",confirmButtonText:"OK",confirmButtonClass:"my-btn"})},showAbout:function(){var t=this.$createElement;this.$msgbox({title:"About",message:t("div",{style:"text-align: center"},[t("p",null,"A scrabble game made by Link.W")]),customClass:"my-msgbox",confirmButtonText:"OK",confirmButtonClass:"my-btn"})},showHighScores:function(){var t=this;return l()(c.a.mark(function e(){var s,a,o,r,i,u,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.$createElement,e.next=3,t.$http.get("/api/highscores");case 3:if(a=e.sent,o=a.data,o.success){for(console.log(o.data),r=o.data,i=Math.min(Math.max(r.length,10),10),u=[],l=0;l<i;l++)void 0===r[l]?u.push(s("li",null,[s("span",{class:"number"},n.i(d.a)(l+1)+". "),s("span",null,"------ "),s("span",{class:"name"},"---- "),s("span",null,"------ "),s("span",{class:"score"},"----")])):u.push(s("li",null,[s("span",{class:"number"},n.i(d.a)(l+1)+". "),s("span",null,"------ "),s("span",{class:"name"},r[l].name+" "),s("span",null,"------ "),s("span",{class:"score"},r[l].bestScore)]));t.$msgbox({title:"HighScores",message:s("ul",{style:"color: #999;",class:"my-msgbox-ul"},u),customClass:"my-msgbox",showConfirmButton:!1})}case 6:case"end":return e.stop()}},e,t)}))()},toggleMenu:function(){this.isShowMenu=!this.isShowMenu},autoPlay:function(){var t=this;return l()(c.a.mark(function e(){var s,o,i,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.$createElement,t.isAuto=!0,10!==t.round){e.next=5;break}return e.next=5,t.play();case 5:if(t.isAuto){e.next=7;break}return e.abrupt("return");case 7:t.isPlaying=!0;case 8:if(!(t.round>=0)){e.next=43;break}o=c.a.mark(function e(){var s,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isAuto){e.next=2;break}return e.abrupt("return",{v:void 0});case 2:return e.next=4,t.$http.get("/api/hint",{params:{hand:t.hand.join(""),best:!0}});case 4:if(s=e.sent,o=s.data,t.isAuto){e.next=8;break}return e.abrupt("return",{v:void 0});case 8:if(!o.success){e.next=17;break}return e.next=11,function(){return new a.a(function(e,s){setTimeout(function(){t.selectedIndex=n.i(f.a)(o.word,t.hand),e()},1e3)})}();case 11:if(t.isAuto){e.next=13;break}return e.abrupt("return",{v:void 0});case 13:return e.next=15,function(){return new a.a(function(e,s){setTimeout(function(){var s=t.selectedIndex.slice(0);s.sort(function(t,e){return e-t}),s.forEach(function(e){t.hand.splice(e,1)}),t.selectedIndex=[];var a=n.i(f.b)(o.word,7);t.score+=a,t.$toast("you got "+a+" points"),e()},1e3)})}();case 15:e.next=18;break;case 17:return e.abrupt("return","break");case 18:case"end":return e.stop()}},e,t)});case 10:if(!(t.hand.length>=2)){e.next=21;break}return e.delegateYield(o(),"t0",12);case 12:i=e.t0,e.t1=i,e.next="break"===e.t1?16:17;break;case 16:return e.abrupt("break",21);case 17:if("object"!==(void 0===i?"undefined":r()(i))){e.next=19;break}return e.abrupt("return",i.v);case 19:e.next=10;break;case 21:return e.next=23,n.i(d.b)();case 23:if(0!==t.round){e.next=39;break}return t.hand=[],e.next=27,t.checkBestScore(t.score);case 27:return u=e.sent,u||t.$msgbox({title:"Notification",message:s("div",{style:"text-align: center"},[s("p",null,[s("span",null,"Your total score is "),s("span",{style:"font-weight: bold"},t.score),s("span",null," points")])]),customClass:"my-msgbox",confirmButtonText:"OK",confirmButtonClass:"my-btn"}),t.selectedIndex=[],t.score=0,t.round=10,e.next=34,n.i(d.b)(500);case 34:return t.isPlaying=!1,t.isAuto=!1,e.abrupt("break",43);case 39:return e.next=41,t.nextRound();case 41:e.next=8;break;case 43:case"end":return e.stop()}},e,t)}))()},cancelAutoPlay:function(){this.isAuto=!1},checkBestScore:function(t){var e=this;return l()(c.a.mark(function s(){var a,o,r;return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(t>e.bestScore)){s.next=15;break}return e.bestScore=t,n.i(p.b)("bestScore",t),s.next=5,e.$prompt("Congratulations! You've got a new BestScore: "+e.bestScore+". Please enter your name:","Notification",{customClass:"my-msgbox",confirmButtonText:"submit",cancelButtonText:"cancel",confirmButtonClass:"my-btn",cancelButtonClass:"my-cancel-btn",inputPlaceholder:"a name must contain 3-12 digit letters or numbers",inputPattern:/^[a-zA-Z0-9]{3,12}$/,inputErrorMessage:"a name must contain 3-12 digit letters or numbers"}).catch(function(t){return console.log("error: "+t)});case 5:if(!(a=s.sent)){s.next=12;break}return s.next=9,e.$http.post("/api/highscores",{name:a.value,bestScore:e.bestScore});case 9:o=s.sent,r=o.data,e.$toast(r.message);case 12:return s.abrupt("return",!0);case 15:return s.abrupt("return",!1);case 16:case"end":return s.stop()}},s,e)}))()},play:function(){var t=this;return l()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isFirstPlay){e.next=5;break}return t.showHelp(),t.isFirstPlay=!1,n.i(p.b)("isFirst",!1),e.abrupt("return");case 5:return e.next=7,t.countDown();case 7:t.isPlaying=!0,t.hand=n.i(f.c)(7),t.round-=1;case 10:case"end":return e.stop()}},e,t)}))()},countDown:function(){var t=this;return new a.a(function(e,n){t.isShowCountDown=!0,setTimeout(function(){t.isShowCountDown=!1,e()},3e3)})},end:function(){this.hand=[],this.selectedIndex=[],this.score=0,this.round=10,this.isPlaying=!1},quit:function(){var t=this;this.$confirm("Confirm to Quit?","Notification",{confirmButtonText:"OK",cancelButtonText:"cancel",type:"warning",customClass:"my-msgbox",confirmButtonClass:"my-btn",cancelButtonClass:"my-cancel-btn"}).then(function(){t.isAuto&&(t.isAuto=!1),setTimeout(function(){t.end()},1e3)})},restart:function(){var t=this;this.$confirm("Confirm to ReStart?","Notification",{confirmButtonText:"OK",cancelButtonText:"cancel",type:"warning",customClass:"my-msgbox",confirmButtonClass:"my-btn",cancelButtonClass:"my-cancel-btn"}).then(function(){t.isAuto&&(t.isAuto=!1),setTimeout(function(){t.end(),t.play()},1e3)})},hint:function(t){var e=this;return l()(c.a.mark(function n(){var s,a,o;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(s=e.$createElement,e.isPlaying){n.next=4;break}return e.$msgbox({title:"Notification",message:s("div",null,[s("p",null,"You should start the game first.")]),type:"warning",customClass:"my-msgbox",confirmButtonText:"OK",confirmButtonClass:"my-btn"}),n.abrupt("return");case 4:return n.next=6,e.$http.get("/api/hint",{params:{hand:e.hand.join(""),best:!0===t}});case 6:a=n.sent,o=a.data,o.success?e.$msgbox({title:"Notification",message:s("div",{style:"text-align: center"},[s("p",null,[s("span",null,'You can try "'),s("span",{style:"font-weight: bold"},o.word),s("span",null,'"')])]),customClass:"my-msgbox",confirmButtonText:"OK",confirmButtonClass:"my-btn"}):e.$msgbox({title:"Notification",message:s("div",null,[s("p",null,o.message)]),type:"warning",customClass:"my-msgbox",confirmButtonText:"OK",confirmButtonClass:"my-btn"});case 9:case"end":return n.stop()}},n,e)}))()},nextRound:function(){var t=this;return new a.a(function(){var e=l()(c.a.mark(function e(s,a){var o,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.$createElement,!(t.round>0)){e.next=8;break}t.hand=[],setTimeout(function(){t.hand=n.i(f.c)(7),s()},50),t.round-=1,t.selectedIndex=[],e.next=17;break;case 8:return e.next=10,t.checkBestScore(t.score);case 10:r=e.sent,r||t.$msgbox({title:"Notification",message:o("div",{style:"text-align: center"},[o("p",null,[o("span",null,"You have no round, your total score is "),o("span",{style:"font-weight: bold"},t.score),o("span",null," points")])]),customClass:"my-msgbox",confirmButtonText:"OK",confirmButtonClass:"my-btn"}),t.hand=[],t.selectedIndex=[],t.score=0,t.round=10,t.isPlaying=!1;case 17:case"end":return e.stop()}},e,t)}));return function(t,n){return e.apply(this,arguments)}}())},submit:function(){var t=this;return l()(c.a.mark(function e(){var n,s,a,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/api/score",{params:{word:t.word}});case 2:n=e.sent,s=n.data,s.success?(t.$toast("you got "+s.score+" points"),a=t.selectedIndex.slice(0),a.sort(function(t,e){return e-t}),a.forEach(function(e){t.hand.splice(e,1)}),t.selectedIndex=[],t.score+=s.score):(o=t.$createElement,t.$msgbox({title:"Notification",message:o("div",null,[o("p",null,s.message)]),type:"warning",customClass:"my-msgbox",confirmButtonText:"OK",confirmButtonClass:"my-btn"}),t.cancelAllSelect());case 5:case"end":return e.stop()}},e,t)}))()},toggleSelect:function(t){this.cards[t].isSelected=!this.cards[t].isSelected,this.cards[t].isSelected?this.selectedIndex.push(t):this.cancelAllSelect()},cancelAllSelect:function(){var t=this;this.selectedIndex.forEach(function(e){t.cards[e].isSelected=!1,t.$refs["li"+e][0].style.transform="translate3d(0,0,0)"}),this.selectedIndex=[]},slideUp:function(t){var e=this.$refs["li"+t][0];this.cards[t].isSelected||(e.style.transform="translate3d(0,-20%,0)")},slideDown:function(t){var e=this.$refs["li"+t][0];this.cards[t].isSelected||(e.style.transform="translate3d(0,0,0)")}}}},90:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{visible:!1,message:"",position:""}}}}},[87]);
//# sourceMappingURL=app.fa3858a21c9baf023080.js.map